// ==UserScript==
// @name        wanna me?
// @author      ibtisam midlet
// @namespace   wanname-userscript-bystorebitid@gmail.com
// @icon        data:image/gif;base64,R0lGODlhFAAUAPf/APKLZfvbz+5jMfGBWfnflfCKMe+BMfB2SPPBLfWhgfSffv718v3y1vOPavrWx/rSwvCNMfF/VvB+Mfe2ne5uMfatkPTFMfPHLfPDNPSkf/O+KPK8IvKuMfOXcu1cMfCGMfF7U+92Me5mMf/+/e5lMf739O5oMe5hMf749f759//7+e5gMf/7+vzm3vzg1fGHR/7z7/3x0/zo4Pvf1P724fvd0f/9/fO3Mf76+fezme5nMfCXMe5kMfbLSvrhn/TJRv3v6v/56PGRKP3u6Pzo3/KnJ///8PKJYfKwMe9pN/jEk/B1P+5lMu5iMvCZK/GOP/F6UPK5Jfzk2/O8JO9wQvPGKO93L///8vnch/PGMfOpWv3s5fSca/nLuv723vbPZvWjhe9wP//67/TGLPGMQfnEsfTGMP703e9rOfPFLvB5SvGBTfvXyfXIQvnkkfXLWvapjfnOvPCLL/OVcvnOqfnNvPB2R///7v3s5v3t5+95MfO6MfK1Ku9tMfPCLfK3MO5wMfzj2e5oNfKlLvXIUfTLMfa7cvWmh/GdMfe1m/TBOP3ww/KyJ/3w6/K+H/F8U/3q4/GFW/KGXvK6IvjAo/GkMfnJtvfSaPnHte9yNPWoivWph/asj/nbjO+FLfSbefScevPGLvnMpv745P//5fvotvzqvfKVZvrjo/vtxPbVXf3x7PzrwfzsxO5tN/CSMfbOXPGjMfvop/KlNvjYg/76+PrTxPXCRvTHQvzswvSXdPKPVfKpMfaqjffSbPjEqvB3OP313e9nOvjDr/723fvZzO9vP/PFLPzwzvPDLfauk/GFVvB8T/KrKvKvLfrUxfWni/i+o/CCSPPBNO5rMfWshPPCJvWhg/31s/arj/e6ovGPMfGPLvOVcfKfQPnNqvnPqvTBMPzn3/rNvfB0RPKGYP//7PbRav7y7vfXcf3t5vaymPvc0PGDR/KLY+58Me9wMfPAMfO4MPK8JvK0KPOyMfGWMPGIV/GBUvPDK//9/P712v3v6f3z2e9xMP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMUY0RjJDRTYyM0YxMUU4QjIxNkYyMkJDREFGQUM2QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMUY0RjJDRDYyM0YxMUU4QjIxNkYyMkJDREFGQUM2QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmEyOWE2NjYwLTYyM2UtMTFlOC1hM2ZiLThmOGM2ZDRmMmViYiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmEyOWE2NjYwLTYyM2UtMTFlOC1hM2ZiLThmOGM2ZDRmMmViYiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAP8ALAAAAAAUABQAAAj/AP+hWFDrn8F/Cx4kYAbKxcGDI2RE+4XC4JYJkcKI+MTv4UE8XHaJ+zdknR0RKDkdDDSjhEF9lKqpU6FNDYkmKwQccgkjw6Y8B1mwUOFggAAeOvqY0NXiH5FTGVY9VMGmg6AT1HbsMTCgyz8ccRzgODhjggJjTUwUiJfFgDBOKVpAYnEwRaID5JickICkkAUDK7rV6FWh6b8RNRqQOLFChD0EVcZAIAFFwQE0OVymyEFFBA8BVor4adNjlj8PJ0yQOPLMRqM5Td4VAOQkyg8CWG558qAWXpJsKNhJorDjzyB6uAi0uoShmZxt9QroaCDDUgQJHJLlm0YrGCtFGsLxrJFnARG8AbaGgfhwQ8O8N6XE5PriCxaGUGYqhQBRZlwE9htM0kkMZ8SQCjI+EJJMGrzo8QgmUgCAnSMboEIDAwz0Q4Mp5xwTSiwhlBNACcos8coU1sgShBf7EDPKIulcgAAEroABwwiBJACMEIy4QcoV5txhBDaqOMNNJh0EMIJBLkBzzxNaKPENHeCIYog3ZCxzTTEPjYDOA3C4s0Y7L7wgDT4AaFIHEDYYFBAAOw==
// @include     *.youtube.com/watch?v=*
// @description instant youtube downloader by ibtisam_midlet
// @version     1.2
// @updateURL   https://github.com/ibtisammidlet/wanna-me-/blob/master/update.user.js
// @downloadURL https://github.com/ibtisammidlet/wanna-me-/blob/master/update.user.js
// @supportURL  https://rebrand.ly/wanna-me
// @date        2019-05-02
// @homepage    https://rebrand.ly/wanna-me
// @license     do what the fuck you want to do public license >>http://www.wtfpl.net/about/
// @require     https://code.jquery.com/jquery-3.4.0.min.js
// @grant       GM_addStyle
// ==/UserScript==


$("body").append ( `

<ol id="tobe-replaced"></ol>
  <style>
.dropbtn {
    width: 100px;
    height: 25px;
    background-color: #f1f1f1;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    border: 0px;
    border-radius: 0px 12px 12px 0px;
	opacity: 0.5;
}
#new-projects {
position: fixed;
z-index: 999999999999999;
bottom: 0;
}
body {
    font-size: 12px;
    font-family: Arial;
}
li * {
    display: inline-flex;
    margin: auto 5px;
}
.label.label-default {
    display: none;
}
ul.dl-list:nth-child(1) {
    display: none;
}
.dl-list {
    width: -moz-max-content;
    overflow-y: scroll;
	display: none;
    position: absolute;
    background-color: #f1f1f1;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    z-index: 1;
top: -200px;
bottom: 0px;
}
.btn.btn-default.btn-download {
    margin: 0px 20px;
}

.dl-list li {
    color: black;
    padding: 3px 2px;
    text-decoration: none;
    display: block;
}

.dl-list li:hover {
    background-color: #ddd;
}

#new-projects:hover .dl-list {
    display: block;
}

#new-projects:hover .dropbtn {
    display: none;
}
.glyphicon.glyphicon-download-alt {
    display: none;
}

/*** for chrome compatibility ***/
#tobe-replaced {
    padding-left: inherit;
}
#new-projects {
    padding-left: 0px;
}
.dl-list {
    padding-left: inherit;
	    width: max-content;
}

/*** for youtube mobile ***/
ytm-app {
    position: absolute;
}
</style>

` );

console.log("html and css injected");

var pageURL = $(location).attr("href");
$( "#tobe-replaced" ).load( "https://trackmeup.000webhostapp.com/youtube-downloader/getvideo.php?videoid=" + pageURL + "&type=Download #new-projects" );
console.log("first js excution");


var currentPage = window.location.href;
setInterval(function()
{
    if (currentPage != window.location.href)
    {
        // page has changed, set new page as 'current'
        currentPage = window.location.href;

var pageURL = $(location).attr("href");
$( "#tobe-replaced" ).load( "https://trackmeup.000webhostapp.com/youtube-downloader/getvideo.php?videoid=" + pageURL + "&type=Download #new-projects" );
console.log("url changed");


}
}, 500);
